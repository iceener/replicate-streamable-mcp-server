name = "replicate-mcp"
main = "src/worker.ts"
compatibility_date = "2024-11-01"
workers_dev = true
compatibility_flags = ["nodejs_compat"]

[vars]
MCP_PROTOCOL_VERSION = "2025-11-25"
MCP_TITLE = "Replicate"
MCP_VERSION = "1.0.0"
NODE_ENV = "production"
LOG_LEVEL = "info"

# KV namespace for session storage
# Create with: wrangler kv:namespace create TOKENS
# Then update the id below with the output
# [[kv_namespaces]]
# binding = "TOKENS"
# id = "YOUR_KV_NAMESPACE_ID"

# Secrets - set via `wrangler secret put`:
#
# Internal API key to access this MCP server:
#   openssl rand -hex 32
#   wrangler secret put API_KEY
#
# Replicate API token (stored server-side):
#   wrangler secret put REPLICATE_API_TOKEN
